<section
  class="py-20 px-6 sm:px-10 lg:px-20 bg-white dark:bg-gray-900 transition-colors duration-500"
>
  <!-- Section Title -->
  <div class="text-center mb-12 eveal">
    <div class="flex items-center justify-center gap-4">
      <!-- Outline Page Number -->
      <span
        class="text-5xl sm:text-6xl font-extrabold text-transparent 
                 dark:text-transparent stroke-text"
      >
        03
      </span>

      <!-- Title with border underline -->
      <h2
        class="text-3xl sm:text-4xl font-bold text-gray-900 dark:text-gray-100 border-b-4 border-[#2563EB] pb-2 inline-block"
      >
        My <span class="text-[#2563EB]">Projects</span>
      </h2>
    </div>
  </div>

  <!-- Projects Grid -->
  <div
    class="grid gap-6 
      2xl:grid-cols-2
      xl:grid-cols-2
      lg:grid-cols-2 
      md:grid-cols-2 
      sm:grid-cols-1 
      xs:grid-cols-1 
      tiny:grid-cols-1
      max-w-4xl mx-auto"
  >
    <div
      *ngFor="let project of projects"
      class="  eveal bg-gradient-to-r from-indigo-50 to-indigo-100 dark:from-gray-800 dark:to-gray-800 rounded-2xl shadow-lg p-6 flex justify-between items-stretch transition hover:shadow-xl"
    >
      <!-- Left: Project Info -->
      <div class="flex flex-col justify-between flex-1 pr-4 max-h-[200px]">
        <div>
          <h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2">
            {{ project.name }}
          </h3>
          <p class="text-gray-700 dark:text-gray-300 mb-4 text-sm sm:text-base">
            {{ project.description }}
          </p>
        </div>

        <!-- Buttons -->
        <div class="flex flex-wrap gap-3 mt-4"   >
          <!-- View Project -->
          <button (click)="openProject(project)"
            href="#"
            class="flex items-center gap-2 px-3 sm:px-4 py-2 text-sm sm:text-base bg-[#2563EB] text-white rounded-lg hover:bg-[#1d4ed8] transition"
          >
            Live Demo
            <!-- Arrow Right -->
           <lucide-icon [img]="Arrowr" class="w-4 h-4"></lucide-icon>
          </button>

          <!-- See Code -->
          <a
           [href]="project?.link" target="_blank" rel="noopener noreferrer"
            class="flex items-center gap-2 px-3 sm:px-4 py-2 text-sm sm:text-base border border-[#2563EB] text-[#2563EB] rounded-lg hover:bg-[#2563EB] hover:text-white transition"
          >
            <!-- GitHub Logo -->
            <svg
              class="w-5 h-5"
              fill="currentColor"
              viewBox="0 0 24 24"
              aria-hidden="true"
            >
              <path
                fill-rule="evenodd"
                d="M12 2C6.477 2 2 6.477 2 12c0 4.418 
                2.865 8.166 6.839 9.489.5.092.682-.217.682-.483 
                0-.237-.009-.868-.014-1.703-2.782.604-3.369-1.34-3.369-1.34
                -.454-1.154-1.11-1.462-1.11-1.462-.908-.62.069-.608.069-.608
                1.004.07 1.532 1.033 1.532 1.033.892 1.528 2.341 
                1.087 2.91.832.091-.647.35-1.087.636-1.338
                -2.22-.253-4.555-1.11-4.555-4.943 
                0-1.091.39-1.984 1.029-2.682-.103-.253-.446-1.27.098-2.647 
                0 0 .84-.269 2.75 1.026A9.564 9.564 0 0 1 
                12 6.844c.85.004 1.705.115 2.504.338 
                1.909-1.295 2.748-1.026 2.748-1.026.545 
                1.377.202 2.394.1 2.647.64.698 1.028 
                1.591 1.028 2.682 0 3.841-2.337 
                4.687-4.566 4.935.36.309.678.92.678 
                1.855 0 1.338-.012 2.419-.012 2.747 
                0 .268.18.58.688.482A10.004 10.004 0 0 0 
                22 12c0-5.523-4.477-10-10-10Z"
                clip-rule="evenodd"
              />
            </svg>
            See Code
          </a>
        </div>
      </div>

      <!-- Right: Placeholder for chart -->
  <!-- Right: Chart Section -->
<div
  class="w-24 h-24 sm:w-28 sm:h-28 md:w-30 md:h-30 flex flex-col items-center justify-center flex-shrink-0"
>
  <!-- Pie Chart -->
  <svg viewBox="0 0 36 36" class="w-20 h-20 mb-2">
    @for (slice of project.slices; track $index) {
      <circle
        stroke-width="4"
        fill="none"
        r="16"
        cx="18"
        cy="18"
        [attr.stroke]="slice.color"
        [attr.stroke-dasharray]="slice.dashArray"
        [attr.stroke-dashoffset]="slice.dashOffset"
      />
    }
  </svg>

  <!-- Legend -->
  <div
    class="flex flex-col gap-1 text-[10px] sm:text-xs text-gray-700 dark:text-gray-300"
  >
    @for (lang of project.languages; track lang.name) {
      <div class="flex items-center gap-1">
        <span
          class="w-2 h-2 rounded-full"
          [style.background-color]="lang.color"
        ></span>
        <span>{{ lang.name }} ({{ lang.percent }}%)</span>
      </div>
    }
  </div>
</div>

    </div>
  </div>
</section>
